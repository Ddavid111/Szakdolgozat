<h1>Default credentials: name / password</h1>

<div class="container mt-5">
    <div class="container mt-5" style="text-align: center;">
        <h1>Bejelentkezés</h1>
    </div>

    <div class="card text-center" style="padding: 20px;">
        <form #loginForm="ngForm" (ngSubmit)="login(loginForm)">
            <input type="text"
                   ngModel
                   name="userName"
                   id="userName"
                   placeholder="Felhasználónév"
                   class="form-control mb-3"
            >

            <input type="password"
                   ngModel
                   name="userPassword"
                   id="userPassword"
                   placeholder="Jelszó"
                   class="form-control mb-3"
            >

            <input type="submit" value="Bejelentkezés" class="btn btn-outline-dark form-control rounded-0">
        </form>
    </div>
<!--
  <div class="alert alert-success" role="alert">
    A simple success alert—check it out!
  </div>

  <div class="toast align-items-center text-white bg-primary border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        Hello, world! This is a toast message.
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
 -->
  <div class="card text-center" style="padding: 20px;">
    <input type="button" value="Elfejejtett jelszó" class="btn btn-danger" (click)="openModal()"/>
  </div>
</div>

<div class="modal " id="forgottenPwModal" tabindex="-1" aria-labelledby="forgottenPwModalLabel" [ngStyle]="{'display':display}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="forgottenPwModalLabel">Új jelszó igénylése</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="onCloseHandled()"></button>
      </div>
      <div class="modal-body">

        <form #forgotten="ngForm" (ngSubmit)="forgottenPw()">
          <label for="username">Felhasználónév</label>
          <input type="text" name="username" [(ngModel)]="forgottenPwForm.username" placeholder="Felhasználónév">

          <p>A lenti gombra kattintva a regisztrációkor a felhasználónévhez
            rendelt e-mail címre egy e-mailt küld a rendszer, benne egy tokennel. Ezzel lehet új jelszót beállítani a következő lépésben.</p>

          <input type="submit" value="Új jelszó igénylése" data-bs-dismiss="Modal" (click)="showNewPwModal()">
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal " id="newPwModal" tabindex="-1" aria-labelledby="newPwModalLabel" [ngStyle]="{'display':showPwChangeModal}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="newPwModalLabel">Új jelszó beállítása</h1>



        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="closePwChangeModal()"></button>
      </div>
      <div class="modal-body">

        <form (ngSubmit)="changePw()" [formGroup]="changePwForm">
          <label for="username">Felhasználónév</label>
          <input type="text" name="username" formControlName="username" placeholder="Felhasználónév">
          <input type="text" name="token" formControlName="token" placeholder="Token">
          <input type="password" name="newPw" formControlName="newPassword" placeholder="Új jelszó">
          <input type="password" name="confPw" formControlName="confirmPassword" placeholder="Új jelszó ismét">
          <div style="color: red;" *ngIf="changePwForm.errors?.['matchPwValidator']"> A két jelszó nem egyezik! </div>
          <p>A lenti gombra kattintva a regisztrációkor a felhasználónévhez
            rendelt e-mail címre egy e-mailt küld a rendszer, benne egy tokennel. Ezzel lehet új jelszót beállítani a következő lépésben.</p>

          <input type="submit" value="Új jelszó beállítása" data-bs-dismiss="Modal" (click)="closePwChangeModal()">
        </form>
      </div>
    </div>
  </div>
</div>
